# 互联网广告系统

## 1 企业管理员

### 1.1 管理用户账号权限

### 1.1.1 基本信息

> 请求路径：/customer/status
>
> 请求方式：POST
>
> 接口描述：该接口用于管理用户账号权限

### 1.1.2 请求参数

参数格式: query参数

参数说明：status 0:禁用 1:解封

| 名称         | 类型      | 是否必须 | 备注     |
|------------|---------|------|--------|
| status     | Integer | 必须   | 用户账号权限 |
| customerId | Integer | 必须   | 用户id   |

请求数据样例：

```shell
  http://192.168.174.1:9526/customer/status?customerId=1933635587&status=0
  http://192.168.174.1:9526/customer/status?customerId=1933635587&status=1
```

响应数据样例：

```json
{
  "code": 200,
  "msg": null,
  "data": "已解封该账号"
}
```

```json
{
  "code": 200,
  "msg": null,
  "data": "已成功禁用该账号"
}
```

## 2 客户
### 2.1 查询广告展示情况

#### 2.1.1 基本信息

> 请求路径：/customer/advertisement/page
>
> 请求方式：GET
>
> 接口描述：该接口用于查询用户所持有的广告情况



#### 2.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称    | 是否必须 | 示例  | 备注                 |
|---------|------|-----|--------------------|
| msg     | 否    |     | 查询条件               |
| pageNum | 否    | 1   | 分页查询的页码，如果未指定，默认为1 |

请求数据样例：

```shell
http://10.16.80.153:9090/customer/advertisement/page?pageNum=1&msg=
```

#### 2.1.3 响应数据

参数格式：application/json

参数说明：

| 参数名称        | 是否必须 | 示例  | 备注                           |
|-------------|------|-----|------------------------------|
| id          | 是    |     | 用户id                         |
| title       | 是    |     | 广告标题                         |
| description | 是    |     | 广告描述                         |
| status      | 是    |     | 审核状态，10:审核中，11:审核不通过，12:审核通过 |
| url         | 是    |     | 广告图像                         |
| startTime   | 否    |     | 广告开始展示时间                     |
| endTime     | 否    |     | 广告结束展示时间                     |

响应数据样例：
1. 审核中
```json
{
        "id": 1,
        "title": "a",
        "description": "s",
        "status": 10,
        "url": "https://cdn.ray-blog.top/t01e900c82ac25cb7e2.jpg",
        "startTime": null,
        "endTime": null
    }
```
2. 审核通过
 ```json
   {
        "id": 7,
        "title": "华科",
        "description": "sdsd",
        "status": 12,
        "url": "https://cdn.ray-blog.top/t01e900c82ac25cb7e2.jpg",
        "startTime": "2023-04-23T21:29:52",
        "endTime": "2023-05-10T21:29:52"
    }
 ```


## 3 其他接口

### 3.1 登录

#### 3.1.1 基本信息

> 请求路径：/login
>
> 请求方式：POST
>
> 接口描述：该接口用于客户和管理员登录

#### 3.1.2 请求参数

参数格式：application/json

参数说明：

| 名称       | 类型     | 是否必须 | 备注  |
|----------|--------|------|-----|
| username | string | 必须   | 用户名 |
| password | string | 必须   | 密码  |

请求数据样例：

```json
{
  "username": "xiaoxiao",
  "password": "123456"
}
```

#### 3.1.3 响应数据

参数格式：application/json

参数说明：

| 名称     | 类型     | 是否必须 | 默认值 | 备注                   | 其他信息 |
|--------|--------|------|-----|----------------------|------|
| code   | number | 必须   |     | 响应码, 200 成功 ; 500 失败 |      |
| msg    | string | 非必须  |     | 提示信息                 |      |
| data   | object | 必须   |     | 返回的数据                |      |
| token  | string | 必须   |     | token值               |
| id     | number | 必须   |     | 用户id                 |
| expire | number | 必须   |     | 失效时间戳                |

响应数据样例：

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiJ9.eyJwYXNzd29yZCI6IjEyMzQ1NiIsImlkIjoxLCJ0eXBlIjpudWxsLCJ1c2VybmFtZSI6IlN3YWdneSIsImV4cCI6MTY4MzM2NDI1NX0.C65RqKXdb0ic2BCetOcJHdwureXvHUJ7O3fY4gWAUFc",
    "id": 1,
    "expire": 1683364255
  }
}
```

#### 3.1.4 备注说明

> 用户登录成功后，然后在后续的每次请求中，都需要在请求头header中携带token到服务端
>
> 如果检测到用户未登录，则会返回如下固定错误信息：
>
> ```json
> {
> 	"code": 500,
> 	"msg": "NOT_LOGIN",
>         "data": null
> }
> ```

### 3.2 注册

#### 3.2.1 基本信息

> 请求路径：/register
>
> 请求方式：post
>
> 接口描述：该接口用于客户注册

#### 3.2.2 请求参数

参数格式： application/json

参数说明：

| 名称       | 类型     | 是否必须 | 备注  |
|----------|--------|------|-----|
| username | string | 必须   | 用户名 |
| password | string | 必须   | 密码  |

请求数据样例：

```json
{
  "username": "huang",
  "password": "123456"
}
```

#### 3.1.3 响应数据

参数说明：

| 名称   | 类型     | 是否必须 | 默认值 | 备注                   | 其他信息 |
|------|--------|------|-----|----------------------|------|
| code | number | 必须   |     | 响应码, 200 成功 ; 500 失败 |      |
| msg  | string | 非必须  |     | 提示信息                 |      |
| data | object | 非必须  |     | 返回的数据                |      |

响应数据样例：

```json
{
  "code": 500,
  "msg": "该用户已存在",
  "data": null
}
```


